# 2.8 모의(Mock) 객체 대신 페이크 객체(Fake)를 사용하세요
- 모킹은 테스트 작성 방법에 있어 나쁜 프랙티스이기에 최후의 수단으로만 사용해야 한다.
```java
interface Exchange {
    float rete(String origin, String target);

    final class Fake implements Exchange {
        @Override
        float rate(String origin, String target) {
            return 1.2345;
        }
    }
}
```
- 페이크 객체는 인터페이스의 일부이며 인터페이스와 함께 제공된다.

| 모킹                               | 페이크                             |
|----------------------------------|---------------------------------|
| 테스트가 매우 장황해지고, 이해하거나 리팩토링하기 어려워짐 | 테스트 코드를 줄임으로서 유지보수성을 눈에 띄게 향상시킴 |

- 모킹은 가정을 사실로 전환하기 때문에 단위 테스트를 유지보수하기 어렵게 만든다.
- 클래스의 행동이 변경되면 단위 테스트가 실패하기 때문에, 단위 테스트는 코드 리팩토링에 큰 도움이 된다.
- 단위 테스트가 상호작용에 의존한다면, 리팩토링을 고통스럽게 하고 때로는 불가능하게 만든다.

# 정리
테스트 코드에 아직 익숙하지 않아 정확히 말하기는 어렵지만, 테스트 코드는 프로덕트 코드보다 소중히 다뤄져야 하며, 유지보수에 있어서도 철저히 관리되어야 한다고 생각한다. 개발자들이 테스트 코드를 신뢰할 수 있어야 코드를 공격적으로 리팩토링하고 개선해나갈 수 있기 때문이다.

모킹은 유지보수성을 심각하게 저해시킨다는 사실을 알았으므로 앞으로 테스트 코드를 작성할 때 가능한 페이크 객체를 사용하도록 노력을 기울여야겠다는 생각이 들었다. 