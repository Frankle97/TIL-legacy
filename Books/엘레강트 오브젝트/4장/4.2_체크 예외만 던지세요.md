# 4.2 체크 예외만 던지세요

- 언체크 예외를 사용하는 것은 실수이며, 모든 예외는 체크 예외여야 한다.


- 언체크 예외는 무시할 수 있으며 예외를 잡지 않아도 무방하다.
  - 예외에 대한 정보가 내부에 숨겨져 있어 메서드를 호출하는 쪽에서 어떤 예외가 던져질 지 예상이 불가능하다.
- 언체크 예외의 경우 예외 타입을 선언하지 않아도 무방한 반면에 체크 예외는 항상 예외의 타입을 가시적으로 공개해야 한다.


## 꼭 필요한 경우가 아니라면 예외를 잡지 마세요
- 가능하면 예외를 더 높은 레벨로 전파하라.
- 예외를 잡아야 하는 이유가 있거나 다른 선택의 여지가 없는 경우가 아니라면 예외를 잡아서는 안된다.
- 이전에 살펴봤던 빠르게 실패하기와 안전하게 실패하기의 차이에 대해 예외에 대해서도 동일한 원칙을 거의 그대로 적용할 수 있다.
- 문제를 은폐하게 된다면 클라이언트가 해당 메서드에 실제로 문제가 있었다는 사실을 알아채기까지 디버깅에 오랜 시간이 소요될 수 있다.


## 항상 예외를 체이닝하세요
```java
public int length(File file) throws Excepion {
    try {
        content(file).length();
    } catch(IOException ex) {
        throw new Exception("길이 계산할 수 없다.", ex);
    }
}
```
- 위 경우 예외를 잡은 즉시 새로운 예외를 던지는데, 이와 같은 예외 체이닝은 훌룡한 프랙티스이다.
- 원래 문제를 새로운 문제로 대체함으로써 문제가 발생했다는 사실을 무시하지 않고 새로운 문제로 감싸 상위로 던진다.


```java
public int length(File file) throws Excepion {
    try {
        content(file).length();
    } catch(IOException ex) {
        // ex 무시
        // 새로운 메시지
        throw new Exception("길이 계산할 수 없다.");
    }
}
```
- 위 코드처럼 예외에 대한 근본적인 원인(ex)을 무시하는 것은 좋지 않다.
- 문제를 발생시킨 근본적인 원인에 관한 매우 가치있는 정보를 손실시키는 방식이다.
- 예외 체이닝은 문제와 관련된 문맥을 풍부하게 만들기 위해 필요하다.


# 느낀점
예외 처리에 대해 이렇게까지 생각을 가져본 적은 없는데, 새로웠다.  

예외 처리에 대해 올바르게 설계가 되어 있어야 내가 작성한 코드를 사용하는 사람이 더 편해진다.  
기존에는 exception cause를 배제한 채 본인이 직접 메시지를 정의해 throw하는 경우가 대다수였는데, 앞으로는 예외에 관한 정보를 충분하게 제공하고, 꼭 필요한 상황에만 잡아야겠다라는 생각을 갖게 되었다. 