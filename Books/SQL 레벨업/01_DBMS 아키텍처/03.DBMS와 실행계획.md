# DBMS와 실행계획
- 사용자는 SQL만 작성하고, 이후부터는 DBMS가 알아서 처리하고 결과를 제공해준다.

## 데이터 접근 방법은 어떻게 결정할까
- RDB에서 데이터 접근 절차를 결정하는 모듈은 **쿼리 평가 엔진**이다.
- 쿼리 평가 모듈은 추가적으로 파서, 옵티마이저와 같은 여러 개의 서브 모듈로 구성된다.

### 파서
- SQL을 구문 분석한다.
- 맞춤법, 존재하지 않는 테이블 등을 검사하고 SQL 구문을 정형적인 형식으로 변환한다.

### 옵티마이저
- DBMS 두뇌의 핵심이며, 한국어로 최적화란 뜻을 갖고 있다.
- 최적화 대상은 데이터 접근법(실행 계획)이다.
- 옵티마이저는 인덱스 유무, 데이터 분산 등 여러 가지 조건을 고려해서 선택 가능한 많은 실행 계획을 작성하고, 이들의 비용을 연산하고, 가장 낮은 비용의 실행 계획을 선택한다.

### 카탈로그 매니저
- 옵티마이저가 **실행 계획을 세울 때 필요한 정보를 제공**하는 것이 카탈로그 매니저이다.
- 테이블 또는 인덱스의 통계 정보가 저장되어 있다.

### 플랜 평가
- 여러 개의 실행 계획 중 최적의 실행 결과를 선택하는 것이 플랜 평가이다.
- 실행 계획은 DBMS 실행 코드가 아닌, 인간친화적인 계획서이다.
- 계획서(실행 계획)을 보고 성능이 좋지 않은 SQL 구문에 대한 문제점, 수정 방안 등을 고려할 수 있다.

## 옵티마이저와 카탈로그 매니저
- 카탈로그 정보와 테이블 또는 인덱스와 실제로 일치하지 않으면 문제가 발생한다.
- 카탈로그 정보가 갱신되지 않았기에, 옵티마이저는 실행 계획을 세울 때 오래된 정보를 바탕으로 세우게 되는 것이다.
- 이는 최적의 플랜을 기대할 수 없게 된다.
- 올바른 통계 정보가 모이는 것은 SQL 성능에 있어 굉장히 중요한 문제이다.
